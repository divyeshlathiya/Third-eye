import 'package:flutter/material.dart';
import 'package:flutter/services.dart';

class TermsScreen extends StatelessWidget {
  const TermsScreen({super.key});

  @override
  Widget build(BuildContext context) {
    final theme = Theme.of(context);
    final isDark = theme.brightness == Brightness.dark;
    final screenWidth = MediaQuery.of(context).size.width;
    final isTablet = screenWidth > 600;

    final baseFontSize = isTablet ? 18.0 : 15.5;
    final lineHeight = isTablet ? 1.7 : 1.5;
    final textColor = isDark ? Colors.white70 : Colors.black87;
    final scaffoldBg = isDark ? Colors.black : Colors.white;

    // Desired SystemUiOverlayStyle based on theme so time/battery are visible.
    final overlayStyle = SystemUiOverlayStyle(
      statusBarColor: Colors.transparent, // keep translucent look
      statusBarIconBrightness: isDark ? Brightness.light : Brightness.dark,
      statusBarBrightness: isDark ? Brightness.dark : Brightness.light,
      systemNavigationBarColor: scaffoldBg,
      systemNavigationBarIconBrightness: isDark ? Brightness.light : Brightness.dark,
    );

    return AnnotatedRegion<SystemUiOverlayStyle>(
      value: overlayStyle,
      child: Scaffold(
        backgroundColor: isDark ? Colors.black : Colors.white,
        appBar: AppBar(
          backgroundColor: scaffoldBg,
          elevation: 0,
          centerTitle: true,
          title: Text(
            "Terms & Conditions",
            style: TextStyle(
              fontWeight: FontWeight.w600,
              fontSize: isTablet ? 22 : 20,
              color: textColor,
            ),
          ),
          iconTheme: IconThemeData(color: textColor),
          systemOverlayStyle: overlayStyle,
        ),
        body: SafeArea(
          child: LayoutBuilder(
            builder: (context, constraints) {
              return SingleChildScrollView(
                physics: const BouncingScrollPhysics(),
                padding: const EdgeInsets.symmetric(horizontal: 20, vertical: 16),
                child: Center(
                  child: ConstrainedBox(
                    constraints: const BoxConstraints(maxWidth: 700),
                    child: Column(
                      crossAxisAlignment: CrossAxisAlignment.start,
                      children: [
                        // ðŸ”¹ Clause 1
                        Text(
                          "Clause 1",
                          style: TextStyle(
                            fontSize: isTablet ? 18 : 16,
                            fontWeight: FontWeight.bold,
                            color: textColor,
                          ),
                        ),
                        const SizedBox(height: 8),
                        Text(
                          "Welcome to THIRD EYE, an emotional wellness mobile application developed by DS Developers under the guidance of Dr. Himanshu Rathwa. By downloading or using this application, you agree to the terms and conditions outlined below. THIRD EYE is designed as a tool for self-awareness and personal reflection. It does not provide medical, psychiatric, or therapeutic advice, and any insights generated by the app are intended solely for personal reflection â€” not as a substitute for professional consultation.",
                          style: TextStyle(
                            fontSize: baseFontSize,
                            height: lineHeight,
                            color: textColor,
                          ),
                        ),
          
                        const SizedBox(height: 24),
          
                        // ðŸ”¹ Clause 2
                        Text(
                          "Clause 2",
                          style: TextStyle(
                            fontSize: isTablet ? 18 : 16,
                            fontWeight: FontWeight.bold,
                            color: textColor,
                          ),
                        ),
                        const SizedBox(height: 8),
                        Text(
                          "Users are encouraged to provide honest responses to the daily self-assessment questions to ensure accurate insights and meaningful emotional progress tracking. All collected data is securely stored using Google Firebase, ensuring privacy and protection at every stage. The intellectual property, design, content, and algorithms of THIRD EYE are exclusively owned by DS Developers and Dr. Himanshu Rathwa, and users are not permitted to reproduce, modify, or distribute any part of the app without prior written consent. Once the interface and theme are finalized, only agreed-upon bug fixes or scope-based updates will be implemented. Certificates of Self-Awareness are awarded to users who maintain a consistent 21-day participation streak.",
                          style: TextStyle(
                            fontSize: baseFontSize,
                            height: lineHeight,
                            color: textColor,
                          ),
                        ),
          
                        const SizedBox(height: 24),
          
                        // ðŸ”¹ Clause 3
                        Text(
                          "Clause 3",
                          style: TextStyle(
                            fontSize: isTablet ? 18 : 16,
                            fontWeight: FontWeight.bold,
                            color: textColor,
                          ),
                        ),
                        const SizedBox(height: 8),
                        SelectableText(
                          "THIRD EYE may occasionally undergo maintenance or updates, during which brief service interruptions may occur. The developers are not responsible for any emotional outcomes, interpretations, or decisions made based on the appâ€™s insights. These Terms and Conditions may be updated periodically to reflect improvements or policy changes. By continuing to use the application, users acknowledge and accept the latest version of these terms.\n\nFor inquiries or support, please contact:\nthirdeye.support@gmail.com\n\nÂ© 2025 THIRD EYE. All Rights Reserved.",
                          style: TextStyle(
                            fontSize: baseFontSize,
                            height: lineHeight,
                            color: textColor,
                          ),
                        ),
                      ],
                    ),
                  ),
                ),
              );
            },
          ),
        ),
      ),
    );
  }
}
